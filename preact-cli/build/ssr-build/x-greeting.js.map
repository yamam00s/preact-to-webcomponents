{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"preact\"","webpack:///../node_modules/preact-custom-element/src/index.js","webpack:///./components/Greeting.tsx"],"names":["i","t","getChildContext","context","e","children","n","o","r","Object","keys","length","indexOf","a","CustomEvent","detail","bubbles","cancelable","dispatchEvent","_vdom","_props","nodeType","data","c","attributes","l","childNodes","name","value","s","p","d","slot","u","h","nodeName","toLowerCase","_vdomComponent","hasAttribute","_root","replace","toUpperCase","ref","_listener","stopPropagation","addEventListener","removeEventListener","Reflect","construct","HTMLElement","shadow","attachShadow","mode","prototype","create","constructor","connectedCallback","attributeChangedCallback","disconnectedCallback","observedAttributes","propTypes","forEach","defineProperty","get","props","set","_typeof","setAttribute","customElements","define","tagName","displayName","Greeting","_ref","_ref$name","register"],"mappings":"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","file":"x-greeting.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"ydxE\");\n","module.exports = require(\"preact\");","import { h, cloneElement, render, hydrate } from 'preact';\n\nexport default function register(Component, tagName, propNames, options) {\n\tfunction PreactElement() {\n\t\tconst inst = Reflect.construct(HTMLElement, [], PreactElement);\n\t\tinst._vdomComponent = Component;\n\t\tinst._root =\n\t\t\toptions && options.shadow ? inst.attachShadow({ mode: 'open' }) : inst;\n\t\treturn inst;\n\t}\n\tPreactElement.prototype = Object.create(HTMLElement.prototype);\n\tPreactElement.prototype.constructor = PreactElement;\n\tPreactElement.prototype.connectedCallback = connectedCallback;\n\tPreactElement.prototype.attributeChangedCallback = attributeChangedCallback;\n\tPreactElement.prototype.disconnectedCallback = disconnectedCallback;\n\n\tpropNames =\n\t\tpropNames ||\n\t\tComponent.observedAttributes ||\n\t\tObject.keys(Component.propTypes || {});\n\tPreactElement.observedAttributes = propNames;\n\n\t// Keep DOM properties and Preact props in sync\n\tpropNames.forEach((name) => {\n\t\tObject.defineProperty(PreactElement.prototype, name, {\n\t\t\tget() {\n\t\t\t\treturn this._vdom.props[name];\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (this._vdom) {\n\t\t\t\t\tthis.attributeChangedCallback(name, null, v);\n\t\t\t\t} else {\n\t\t\t\t\tif (!this._props) this._props = {};\n\t\t\t\t\tthis._props[name] = v;\n\t\t\t\t\tthis.connectedCallback();\n\t\t\t\t}\n\n\t\t\t\t// Reflect property changes to attributes if the value is a primitive\n\t\t\t\tconst type = typeof v;\n\t\t\t\tif (\n\t\t\t\t\tv == null ||\n\t\t\t\t\ttype === 'string' ||\n\t\t\t\t\ttype === 'boolean' ||\n\t\t\t\t\ttype === 'number'\n\t\t\t\t) {\n\t\t\t\t\tthis.setAttribute(name, v);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t});\n\n\treturn customElements.define(\n\t\ttagName || Component.tagName || Component.displayName || Component.name,\n\t\tPreactElement\n\t);\n}\n\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\t// eslint-disable-next-line no-unused-vars\n\tconst { context, children, ...rest } = props;\n\treturn cloneElement(children, rest);\n}\n\nfunction connectedCallback() {\n\t// Obtain a reference to the previous context by pinging the nearest\n\t// higher up node that was rendered with Preact. If one Preact component\n\t// higher up receives our ping, it will set the `detail` property of\n\t// our custom event. This works because events are dispatched\n\t// synchronously.\n\tconst event = new CustomEvent('_preact', {\n\t\tdetail: {},\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t});\n\tthis.dispatchEvent(event);\n\tconst context = event.detail.context;\n\n\tthis._vdom = h(\n\t\tContextProvider,\n\t\t{ ...this._props, context },\n\t\ttoVdom(this, this._vdomComponent)\n\t);\n\t(this.hasAttribute('hydrate') ? hydrate : render)(this._vdom, this._root);\n}\n\nfunction toCamelCase(str) {\n\treturn str.replace(/-(\\w)/g, (_, c) => (c ? c.toUpperCase() : ''));\n}\n\nfunction attributeChangedCallback(name, oldValue, newValue) {\n\tif (!this._vdom) return;\n\t// Attributes use `null` as an empty value whereas `undefined` is more\n\t// common in pure JS components, especially with default parameters.\n\t// When calling `node.removeAttribute()` we'll receive `null` as the new\n\t// value. See issue #50.\n\tnewValue = newValue == null ? undefined : newValue;\n\tconst props = {};\n\tprops[name] = newValue;\n\tprops[toCamelCase(name)] = newValue;\n\tthis._vdom = cloneElement(this._vdom, props);\n\trender(this._vdom, this._root);\n}\n\nfunction disconnectedCallback() {\n\trender((this._vdom = null), this._root);\n}\n\n/**\n * Pass an event listener to each `<slot>` that \"forwards\" the current\n * context value to the rendered child. The child will trigger a custom\n * event, where will add the context value to. Because events work\n * synchronously, the child can immediately pull of the value right\n * after having fired the event.\n */\nfunction Slot(props, context) {\n\tconst ref = (r) => {\n\t\tif (!r) {\n\t\t\tthis.ref.removeEventListener('_preact', this._listener);\n\t\t} else {\n\t\t\tthis.ref = r;\n\t\t\tif (!this._listener) {\n\t\t\t\tthis._listener = (event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.detail.context = context;\n\t\t\t\t};\n\t\t\t\tr.addEventListener('_preact', this._listener);\n\t\t\t}\n\t\t}\n\t};\n\treturn h('slot', { ...props, ref });\n}\n\nfunction toVdom(element, nodeName) {\n\tif (element.nodeType === 3) return element.data;\n\tif (element.nodeType !== 1) return null;\n\tlet children = [],\n\t\tprops = {},\n\t\ti = 0,\n\t\ta = element.attributes,\n\t\tcn = element.childNodes;\n\tfor (i = a.length; i--; ) {\n\t\tif (a[i].name !== 'slot') {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t\tprops[toCamelCase(a[i].name)] = a[i].value;\n\t\t}\n\t}\n\n\tfor (i = cn.length; i--; ) {\n\t\tconst vnode = toVdom(cn[i], null);\n\t\t// Move slots correctly\n\t\tconst name = cn[i].slot;\n\t\tif (name) {\n\t\t\tprops[name] = h(Slot, { name }, vnode);\n\t\t} else {\n\t\t\tchildren[i] = vnode;\n\t\t}\n\t}\n\n\t// Only wrap the topmost node with a slot\n\tconst wrappedChildren = nodeName ? h(Slot, null, children) : children;\n\treturn h(nodeName || element.nodeName.toLowerCase(), props, wrappedChildren);\n}\n","import { h } from 'preact';\nimport register from 'preact-custom-element';\n\nconst Greeting = ({ name = 'World' }) => (\n  <p>Hello, {name}!</p>\n);\n\nregister(Greeting, 'x-greeting', ['name']);\n"],"sourceRoot":""}